<!DOCTYPE html>
<html lang="en">

<head>
    <!-- check User session -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/Session.js"></script>
    <script>
        Session.Check();
    </script>
    <!-- /End check -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Tropical Sno | Facturación</title>

    <!-- Load the Virtaul Num Pad CSS files -->
    <link rel="stylesheet" href="assets/css/numPad/virNumPad.css">
    <!-- Bootstrap -->
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="assets/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="assets/css/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="assets/css/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- Custom Theme Style -->
    <link href="assets/css/custom.min.css" rel="stylesheet">
    <!-- Custom Table Scroll -->
    <link href="assets/css/facturacion.css" rel="stylesheet">
    <!-- Custom TablePRD -->
    <link href="assets/css/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/datatables.net-bs/css/responsive.dataTables.min.css" rel="stylesheet">
    <!-- SweetAlert -->
    <link rel="stylesheet" href="assets/css/sweetalert2.min.css">
    <!-- SweetAlert -->
    <link rel="stylesheet" href="assets/css/facturaCli.css">

</head>

<!-- <body id="body"> -->

<body id="body">
    <div class="container body">
        <div id="main_containerFacturaCli" class="main_container" style="visibility:hidden">

            <!-- page content -->
            <div class="right_col" role="main">
                <div class="">

                    <div class="clearfix"></div>

                    <div class="row rowFac">
                        <!-- COLUMNA CON TOTALES + LISTA PRD -->
                        <div class="col-md-3 col-xs-12">
                            <div class="x_content">
                                <div class="x_title">
                                    <h3 class='call_Bodega'></h3>

                                </div>
                                <div class="table-responsive">
                                    <table class="table table-striped jambo_table bulk_action">
                                        <tbody>
                                            <tr class="odd pointer">
                                                <td class="totales">TOTAL IVI</td>
                                                <td class="totales"></td>
                                                <td class="totales" id="total">¢0</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <button type="button" id="btnFacturar" data-toggle="modal" data-target=".factura-modal-lg" class="btn btn-danger btn-lg btn-facturar">Facturar</button>
                            </div>
                            <div class="x_content">
                                <div class="table-responsive">
                                    <table id="prd" class="table table-striped jambo_table bulk_action">
                                        <tbody id="productos">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-9 col-xs-12">
                            <div class="x_panel">
                                <!--  CONTENIDO DE LA PAGINA -->
                                <div class="x_content">
                                    <div class="row">
                                        <div class="col-lg-2 col-md-2">
                                            <h3 class="titleSize">TAMAÑO:</h3>
                                        </div>
                                        <div id="tamano" class="col-lg-9 col-md-9">
                                            <button type="button" id="btngrande" class="btn btn-lg btnSize btn_tamano btn_venta selected">12oz</button>
                                            <button type="button" id="btnmediano" class="btn btn-lg btnSize btn_tamano btn_venta">8oz</button>
                                        </div>
                                        <div class="col-lg-1 col-md-1">
                                            <div class="dropdown">
                                                <i class='fa fa-bars fa-2x trigger_button dropdown-toggle' data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                </i>
                                                <ul class="dropdown-menu pull-right" role="menu" aria-labelledby="dropdownMenu1">
                                                    <li role="presentation">
                                                        <a role="menuitem" tabindex="-1" href="Dashboard.html">Volver al Dashboard</a>
                                                    </li>
                                                    <li role="presentation">
                                                        <a id="exitFullScreem" role="menuitem" tabindex="-1" href="">Salir de Pantalla Completa</a>
                                                    </li>
                                                    <li role="separator" class="divider"></li>
                                                    <li role="presentation">
                                                        <a id="cerrarCaja" role="menuitem" tabindex="-1">Cerrar Caja</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="x_panel">
                                <!--  CONTENIDO DE LA PAGINA -->
                                <div class="x_content">
                                    <div class="row">
                                        <div class="col-lg-2 col-md-2">
                                            <h3>SABORES:</h3>
                                        </div>
                                        <div id="sabores_elegidos" class="col-lg-10 col-md-10">
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div id="prdXbdg">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="x_panel">
                                <!--  CONTENIDO DE LA PAGINA -->
                                <div class="x_content">
                                    <div class="row">
                                        <div class="col-lg-2 col-md-2">
                                            <h3>TOPPINGS:</h3>
                                        </div>
                                        <div class="col-lg-10 col-md-10">
                                            <div id="toppings_elegidos" class="col-lg-10">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div id="toppings">


                                                    <button id="null" style="background-color:#ff3535;" class="btn_topping btn_venta" onclick="agrega_toppings('null', 'Sin Topping')">
                                                        <div style="color:whitesmoke;">

                                                            <h5>
                                                                <b>Sin Topping</b>
                                                            </h5>
                                                            <p id="cant_topping_sin_topping">&nbsp;</p>
                                                        </div>
                                                    </button>



                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="x_panel">
                                <!--  CONTENIDO DE LA PAGINA -->
                                <div class="x_content">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <center>
                                                <button type="button" id="btn_limpia" class="btn btn-lg btn-warning">Limpiar</button>
                                                <button type="button" id="btn_agrega_prd" class="btn btn-lg btn-success">Agregar</button>
                                            </center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /page content -->

                <!-- footer content -->
                <!-- <footer>
                <div class="pull-right">
                    Ventas y administración de Inventario <a href="http://faccr.com">Tropical Sno</a>
                </div>
                <div class="clearfix"></div>
            </footer> -->
                <!-- /footer content -->
            </div>
        </div>

        <!-- modals -->
        <!-- Large modal facturar -->
        <div class="modal fade factura-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content modal-factura">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                        </button>
                        <h4 class="modal-title" id="myModalLabel">Facturar</h4>
                    </div>
                    <div class="modal-body">

                        <div class="row">
                            <div id="formapago">

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div id="btn-formapago">

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- modals -->
        <!-- Large modal -->



        <!-- jQuery -->
        <script src="assets/js/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="assets/bootstrap/js/bootstrap.min.js"></script>
        <!-- FastClick -->
        <script src="assets/js/fastclick/lib/fastclick.js"></script>
        <!-- NProgress -->
        <script src="assets/js/nprogress/nprogress.js"></script>
        <!-- iCheck -->
        <script src="assets/js/iCheck/icheck.min.js"></script>
        <!-- Validator -->
        <script src="assets/js/validator.js"></script>
        <!-- Custom Theme Scripts -->
        <script src="assets/js/custom.js"></script>
        <!-- Input mask -->
        <script src="assets/js/jquery.inputmask/jquery.inputmask.bundle.min.js"></script>
        <!-- JS Scripts -->
        <script src="assets/js/ProductosXBodega.js"></script>
        <!--CAMBIAR por PxB-->
        <script src="assets/js/FacturaCli.js"></script>
        <script src="assets/js/Caja.js"></script>
        <!--CAMBIAR por Facuracli-->
        <!-- JS dataTables -->
        <script src="assets/js/jquery.dataTables.min.js"></script>
        <script src="assets/js/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
        <!-- JS Moments -->
        <script src="assets/js/moment.min.js"></script>
        <!-- Sweet Alert -->
        <script src="assets/js/sweetalert2.min.js"></script>
        <!-- Load the jQuery jQBTK plugin's JavaScript -->
        <script src="assets/js/virtualNumPad/virtualNumPad.js"></script>


</body>

<!-- Large modal Validar Apertura de Sesion Caja -->
<div class="modal fade valida-caja-modal-lg" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <div class="col-md-3">
                        <h4 class="modal-title" id="estadoCaja"></h4>
                    </div>
                    <div class="col-md-6">
                        <center>
                            <h2 style="font-size: 30px" class="modal-title" id="exampleModalLabel">Tropical Nom sucursal</h2>
                        </center>
                    </div>
                    <div class="col-md-3">
                        <h4 class="modal-title" id="exampleModalLabel">Saldo Caja: ¢15.000</h4>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">

                    <form class="form-inline">
                        <div class="col-md-3 col-md-offset-6">
                            <label>Saldo contabilizado:</label>
                        </div>
                        <div class="col-md-3">
                            <input type="text" class="form-control" id="saldoContabilizado">
                        </div>

                    </form>
                </div>
                <br>
                <div class="row">
                    <form class="form-inline">
                        <div class="col-md-3 col-md-offset-6">
                            <label>Descuadre:</label>
                        </div>
                        <div class="col-md-3">
                            <label id="saldoContabilizado" readonly> ¢0.00</label>
                        </div>
                    </form>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label for="comment">Observaciones:</label>
                        <textarea style="resize:none;" class="form-control" rows="5" id="comment"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a href="Dashboard.html">
                    <button id="openDash" type="button" class="btn btn-info">Regresar al Dashboard</button>
                </a>
                <button id="abrirCaja" type="button" class="btn btn-success">Abrir Caja</button>
            </div>
        </div>
    </div>
</div>



<!-- Large modal Validar Cierre de Sesion Caja -->
<div class="modal fade cierra-caja-modal-lg" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <div class="col-md-3">
                        <h4 class="modal-title" id="estadoCaja">Cerrar Caja</h4>
                    </div>
                    <div class="col-md-6">
                        <center>
                            <h2 style="font-size: 30px" class="modal-title" id="exampleModalLabel">Tropical Nombre sucursal</h2>
                        </center>
                    </div>
                    <div class="col-md-3">
                        <h4 class="modal-title" id="exampleModalLabel">Total Ventas</h4>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">

                    <form class="form-inline">
                        <div class="col-md-3 col-md-offset-6">
                            <label>Saldo contabilizado:</label>
                        </div>
                        <div class="col-md-3">
                            <input type="text" class="form-control" id="saldoCaja">
                        </div>

                    </form>
                </div>
                <br>
                <div class="row">
                    <!-- <form class="form-inline">
                        <div class="col-md-3 col-md-offset-6">
                            <label>Descuadre:</label>
                        </div>
                        <div class="col-md-3">
                            <label id="saldoContabilizado" readonly> ¢0.00</label>
                        </div>
                    </form> -->
                </div>
                <div class="row">
                    <form class="form-inline">
                        <div class="col-md-3 col-md-offset-4">
                            <label>Efectivo:</label>
                        </div>
                        <div class="col-md-3">
                            <label id="cierreEfectivo" readonly> ¢0.00</label>
                        </div>
                    </form>
                </div>
                <div class="row">
                    <form class="form-inline">
                        <div class="col-md-3 col-md-offset-4">
                            <label>Tarjeta:</label>
                        </div>
                        <div class="col-md-3">
                            <label id="cierreTarjeta" readonly> ¢0.00</label>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cierraCaja" type="button" class="btn btn-success">Cerrar Caja</button>
            </div>
        </div>
    </div>
</div>

</html>

<script>
    $(document).ready(function () {
        if (localStorage.getItem("lsPrintOK") == "OK") {
            swal({
                type: 'success',
                text: 'Factura Lista!',
                timer: 2000
                // showConfirmButton: true
            }).then(function () {
                localStorage.setItem("lsPrintOK", "NOT");
            });
            $(".procesarFac").prop('disabled', true);
        }
    });

    //Abre en pantalla completa el modulo de facturacion al precionar el body
    // var elem = document.getElementById("body");
    // elem.onclick = function () {
    //     req = elem.requestFullScreen || elem.webkitRequestFullScreen || elem.mozRequestFullScreen;
    //     req.call(elem);
    // }
    //Sale de pantalla completa del modulo de facturacion
    $("#exitFullScreem").click(function exitFullScreen(elem) {
        var requestMethod = elem.exitFullscreen ||
            elem.mozCancelFullScreen ||
            elem.webkitExitFullscreen ||
            elem.msExitFullscreen;
        if (requestMethod) {
            requestMethod.call(elem);
        } else {
            console.log("Oops. Request method false.");
        }
    });

</script>