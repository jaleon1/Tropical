class IpAutorizada{constructor(ip){this.ip=ip||null}get Read(){var miAccion=null==this.ip?"ReadAll":"Read";"ReadAll"==miAccion&&0==$("#tbodyItems").length||$.ajax({type:"POST",url:"class/ipAutorizada.php",data:{action:miAccion,ip:this.ip}}).done(function(e){ipautorizada.Reload(e)}).fail(function(e){ipautorizada.showError(e)})}get Save(){$("#btnIp").attr("disabled","disabled");var miAccion=null==this.ip?"Create":"Update";this.ip=$("#ip").val(),$.ajax({type:"POST",url:"class/ipAutorizada.php",data:{action:miAccion,ip:this.ip}}).done(ipautorizada.showInfo).fail(function(e){ipautorizada.showError(e)}).always(function(){$("#btnIp").removeAttr("disabled"),(ipautorizada=new IpAutorizada).ClearCtls(),ipautorizada.Read,$("#ip").focus()})}get Delete(){$.ajax({type:"POST",url:"class/ipAutorizada.php",data:{action:"Delete",ip:this.ip}}).done(function(){swal({type:"success",title:"Eliminado!",showConfirmButton:!1,timer:1e3})}).fail(function(e){ipautorizada.showError(e)}).always(function(){(ipautorizada=new IpAutorizada).Read})}Reload(e){null==this.ip?this.ShowAll(e):this.ShowItemData(e)}showInfo(){$(".close").click(),swal({type:"success",title:"Listo!",showConfirmButton:!1,timer:1e3})}showError(e){var data=JSON.parse(e.responseText);swal({type:"error",title:"Oops...",text:"Algo no está bien ("+data.code+"): "+data.msg,footer:"<a href>Contacte a Soporte Técnico</a>"})}ClearCtls(){$("#ip").val("")}ShowAll(e){t.clear(),t.rows.add(JSON.parse(e)),t.draw(),$(document).on("click",".delete",ipautorizada.DeleteEventHandler)}UpdateEventHandler(){ipautorizada.ip=$(this).parents("tr").find(".itemIdvisible").text(),ipautorizada.Read}ShowItemData(e){this.ClearCtls();var data=JSON.parse(e)[0];ipautorizada=new IpAutorizada(data.ip),$("#ip").val(ipautorizada.ip),$(".modal").modal("toggle")}DeleteEventHandler(){ipautorizada.ip=$(this).parents("tr").find(".itemIdvisible").text(),swal({title:"Eliminar?",text:"Esta acción es irreversible!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"No, cancelar!",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger"}).then(result=>{result.value&&ipautorizada.Delete})}Init(){var validator=new FormValidator({events:["blur","input","change"]},document.forms.frmIp);$("#frmIp").submit(function(e){var validatorResult;return e.preventDefault(),validator.checkAll(this).valid&&ipautorizada.Save,!1}),$("#frmIp").length>0&&(document.forms.frmIp.onreset=function(e){validator.reset()})}}let ipautorizada=new IpAutorizada;