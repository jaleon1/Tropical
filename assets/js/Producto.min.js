class Producto{constructor(id,codigo,nombre,txtColor,bgColor,nombreAbreviado,descripcion,saldoCantidad,saldoCosto,costoPromedio,precioVenta,tipoProducto,lista,tablaproducto,fechaInicial,fechaFinal){this.id=id||null,this.codigo=codigo||"",this.nombre=nombre||"",this.txtColor=txtColor||"",this.bgColor=bgColor||"",this.nombreAbreviado=nombreAbreviado||"",this.descripcion=descripcion||"",this.saldoCantidad=saldoCantidad||0,this.saldoCosto=saldoCosto||0,this.costoPromedio=costoPromedio||0,this.precioVenta=precioVenta||0,this.tipoProducto=tipoProducto||0,this.lista=lista||[],this.tablaproducto=tablaproducto||[],this.fechaInicial=fechaInicial||"",this.fechaFinal=fechaFinal||""}get Read(){var miAccion=null==this.id?"ReadAll":"Read";"ReadAll"==miAccion&&0==$("#tableBody-Producto").length||$.ajax({type:"POST",url:"class/Producto.php",data:{action:miAccion,id:this.id}}).done(function(e){producto.Reload(e)}).fail(function(e){producto.showError(e)})}get ReadAllProductoVenta(){var miAccion="ReadAllProductoVenta";$.ajax({type:"POST",url:"class/Producto.php",data:{action:miAccion,id:this.id}}).done(function(e){producto.Reload(e)}).fail(function(e){producto.showError(e)})}get ReadAllPrdVenta(){var miAccion="ReadAllPrdVenta";$.ajax({type:"POST",url:"class/Producto.php",data:{action:miAccion,id:this.id}}).done(function(e){producto.Reload(e)}).fail(function(e){producto.showError(e)})}get ReadArticulo(){var miAccion=null==this.id?"ReadAllArticulo":"ReadArticulo";"ReadAllArticulo"==miAccion&&0==$("#tableBody-Producto").length||$.ajax({type:"POST",url:"class/Producto.php",data:{action:miAccion,id:this.id}}).done(function(e){producto.Reload(e)}).fail(function(e){producto.showError(e)})}get Save(){$("#btnProducto").attr("disabled","disabled");var miAccion=null==this.id?"Create":"Update";this.codigo=$("#codigo").val(),this.nombre=$("#nombre").val(),this.txtColor=$("#txtColor").val(),this.bgColor=$("#bgColor").val(),this.nombreAbreviado=$("#nombreAbreviado").val(),this.descripcion=$("#descripcion").val(),this.saldoCantidad=$("#saldoCantidad").val(),this.saldoCosto=$("#saldoCosto").val(),this.costoPromedio=$("#costoPromedio").val(),this.precioVenta=$("#precioVenta").val(),this.tipoProducto=$("#tipoProducto option:selected").val();var z=this.tablaproducto;this.tablaproducto=[],$.ajax({type:"POST",url:"class/Producto.php",data:{action:miAccion,obj:JSON.stringify(this)}}).done(function(e){this.tablaproducto=z,producto.showInfo()}).fail(function(e){producto.showError(e)}).always(function(){$("#btnProducto").removeAttr("disabled"),(producto=new Producto).ClearCtls(),producto.Read,$("#codigo").focus(),producto.ValorDefault()})}get AddArticuloBodega(){if($("#tableBody-ArticuloBodega tr").length<1)return swal({type:"error",title:"Datos de los Artículos",text:"Debe agregar artículos a la lista",showConfirmButton:!1,timer:3e3}),!1;$("#btnArticulo").attr("disabled","disabled");var miAccion="Add";producto.lista=[],$("#tableBody-ArticuloBodega tr").each(function(){var objArticulo=new Object;objArticulo.idBodega="22a80c9e-5639-11e8-8242-54ee75873a00",objArticulo.idProducto=$(this).find("td:eq(0)").html(),objArticulo.cantidad=$(this).find("td:eq(2) input").val(),objArticulo.costo=$(this).find("td:eq(3) input").val(),producto.lista.push(objArticulo)}),$.ajax({type:"POST",url:"class/ProductosXBodega.php",data:{action:"Add",obj:JSON.stringify(this)}}).done(producto.showInfo).fail(function(e){producto.showError(e)}).always(function(){$("#btnArticulo").removeAttr("disabled"),producto=new Producto,$("#tableBody-ArticuloBodega").html(""),producto.ReadArticulo})}get Delete(){$.ajax({type:"POST",url:"class/Producto.php",data:{action:"Delete",id:this.id}}).done(function(e){var data=JSON.parse(e);0==data?swal({type:"success",title:"Eliminado!",showConfirmButton:!1,timer:1e3}):1==data.status?swal({type:"error",title:"No es posible eliminar...",text:"El registro que intenta eliminar ya se ecnuentra liquidado"}):swal({type:"error",title:"Ha ocurrido un error...",text:"El registro no ha sido eliminado",footer:"<a href>Contacte a Soporte Técnico</a>"})}).fail(function(e){producto.showError(e)}).always(function(){(producto=new Producto).Read})}get ReadInventarioProducto(){var miAccion="ReadAllInventario";$.ajax({type:"POST",url:"class/Producto.php",data:{action:miAccion,id:this.id}}).done(function(e){producto.ShowAllInventario(e)}).fail(function(e){producto.showError(e)})}Reload(e){null==this.id?this.ShowAll(e):this.ShowItemData(e)}showInfo(){swal({type:"success",title:"Listo!",showConfirmButton:!1,timer:1e3}),$(".close").click()}showError(e){var data=JSON.parse(e.responseText);swal({type:"error",title:"Oops...",text:"Algo no está bien ("+data.code+"): "+data.msg,footer:"<a href>Contacte a Soporte Técnico</a>"})}LimpiaArticulos(){$("#tableBody-ArticuloBodega").html("")}DeleteproductoMerma(e){tp.row($(e).parents("tr")).remove().draw()}ClearCtls(){$("#id").val(""),$("#codigo").val(""),$("#nombre").val(""),$("#txtColor").val(""),$("#bgColor").val(""),$("#nombreAbreviado").val(""),$("#descripcion").val(""),$("#saldoCantidad").val("0"),$("#saldoCosto").val("0"),$("#costoPromedio").val("0"),$("#precioVenta").val("0"),$("#tipoProducto option").prop("selected",!1),$("#tipoProducto").selectpicker("refresh")}ShowAll(e){var t=$("#dsProducto").DataTable();0==t.rows().count()?(t.clear(),t.rows.add(JSON.parse(e)),t.draw(),$(document).on("click","#dsProducto tbody tr",-1!=document.URL.indexOf("ElaborarProducto.html")?producto.AddProducto:producto.UpdateEventHandler),$(document).on("click",".delete",producto.DeleteEventHandler)):(t.clear(),t.rows.add(JSON.parse(e)),t.draw())}setTableInventarioProducto(){jQuery.extend(jQuery.fn.dataTableExt.oSort,{"formatted-num-pre":function(a){return a="-"===a||""===a?0:a.replace(/[^\d\-\.]/g,""),parseFloat(a)},"formatted-num-asc":function(a,b){return a-b},"formatted-num-desc":function(a,b){return b-a}}),this.tablaproducto=$("#dsProducto").DataTable({responsive:!0,destroy:!0,order:[[1,"asc"]],dom:"Bfrtip",buttons:[{extend:"excelHtml5",exportOptions:{columns:[1,2,3,4,5,6,7,8,9]},messageTop:"Inventario Producto Terminado"},{extend:"pdfHtml5",orientation:"landscape",messageTop:"Inventario Producto Terminado",exportOptions:{columns:[1,2,3,4,5,6,7,8,9]}}],language:{infoEmpty:"Sin Productos",emptyTable:"Sin Productos",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columnDefs:[{className:"text-right",targets:[5,6,7,8]}],columns:[{title:"ID",data:"id",className:"itemId",width:"auto",searchable:!1},{title:"CODIGO",data:"codigo",width:"auto"},{title:"NOMBRE",data:"nombre",width:"auto"},{title:"ABREVIATURA",data:"nombreAbreviado",width:"auto"},{title:"DESCRIPCION",data:"descripcion",width:"auto"},{title:"SALDO CANTIDAD",data:"saldoCantidad",width:"auto"},{title:"SALDO COSTO",data:"saldoCosto",width:"auto",type:"formatted-num",mRender:function(e){return"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"COSTO PROMEDIO",data:"costoPromedio",width:"auto",type:"formatted-num",mRender:function(e){return"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"PRECIO VENTA",data:"precioVenta",width:"auto",type:"formatted-num",mRender:function(e){return"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"TIPO",data:"esVenta",width:"auto",mRender:function(e){var tipo="1";return"0"==e&&(tipo="ARTICULO"),"1"==e&&(tipo="SABOR"),"2"==e&&(tipo="TOPPING"),tipo}},{title:"ACCION",orderable:!1,searchable:!1,className:"buttons",mRender:function(){return'<a class="delete" style="cursor: pointer;"> <i class="glyphicon glyphicon-trash"> </i> </a>'},width:"auto"}]})}setTableElaboraProducto(){this.tablaproducto=$("#dsProducto").DataTable({responsive:!0,destroy:!0,order:[[1,"asc"]],language:{infoEmpty:"Sin Productos Registrados",emptyTable:"Sin Productos Registrados",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columnDefs:[{className:"text-right",targets:[5]}],columns:[{title:"ID",data:"id",className:"itemId",searchable:!1,width:"auto"},{title:"CODIGO",data:"codigo",width:"auto"},{title:"NOMBRE",data:"nombre",width:"auto"},{title:"ABREVIATURA",data:"nombreAbreviado",width:"auto"},{title:"DESCRIPCION",data:"descripcion",width:"auto"},{title:"SALDO CANTIDAD",data:"saldoCantidad",width:"auto"},{title:"SALDO COSTO",data:"saldoCosto",visible:!1},{title:"COSTO PROMEDIO",data:"costoPromedio",visible:!1},{title:"PRECIO VENTA",data:"precioVenta",visible:!1},{title:"TIPO",data:"esVenta",width:"auto",mRender:function(e){var tipo="1";return"0"==e&&(tipo="ARTICULO"),"1"==e&&(tipo="SABOR"),"2"==e&&(tipo="TOPPING"),tipo}},{title:"ACCION",orderable:!1,searchable:!1,mRender:function(){return'<a class="update" style="cursor: pointer;"> <i class="glyphicon glyphicon-edit" > </i> Editar </a> | <a class="delete" style="cursor: pointer;"> <i class="glyphicon glyphicon-trash"> </i> Eliminar </a>'},visible:!1}]})}setTableMerma(){tp=$("#tProducto").DataTable({responsive:!0,destroy:!0,order:[[1,"asc"]],language:{infoEmpty:"Sin Registros",emptyTable:"Sin Registros",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columnDefs:[{className:"text-right",targets:[5]}],columns:[{title:"Id",data:"id",className:"itemId",searchable:!1,width:"auto"},{title:"Codigo",data:"codigo",width:"auto"},{title:"Producto",data:"nombre",width:"auto"},{title:"Costo Promedio",data:"costoPromedio",className:"itemId",width:"auto"},{title:"Cantidad",width:"15%",data:null,defaultContent:'<input class="cantidad form-control" type="number" min="1" max="9999999999" step="1" style="text-align:right;" value=1 >'},{title:"Observaciones",width:"30%",data:null,defaultContent:'<input class="cantidad form-control" required type="text">'},{title:"Acción",orderable:!1,searchable:!1,mRender:function(){return'<a class="delete" style="cursor: pointer;" onclick="producto.DeleteproductoMerma(this)" > <i class="glyphicon glyphicon-trash"> </i></a>'},visible:!0}]})}AddProducto(){var id=$(this).find("td:eq(0)").html(),codigo=$(this).find("td:eq(1)").html(),nombre=$(this).find("td:eq(2)").html(),nombreAbreviado=$(this).find("td:eq(3)").html(),descripcion=$(this).find("td:eq(4)").html(),saldoCantidad=$(this).find("td:eq(5)").html(),saldoCosto=producto.tablaproducto.row(this).data()[8],costoPromedio=producto.tablaproducto.row(this).data()[9],precioVenta=producto.tablaproducto.row(this).data()[10];if("SABOR"==$(this).find("td:eq(9)").html())var esVenta="1";else var esVenta="2";elaborarProducto.AddProductoEventHandler(id,codigo,nombre,nombreAbreviado,descripcion,saldoCantidad,saldoCosto,costoPromedio,precioVenta,esVenta)}UpdateEventHandler(){producto.id=$(this).find(".itemId").text(),producto.Read}ShowItemData(e){this.ClearCtls();var data=JSON.parse(e)[0];$("#id").val(data.id),$("#codigo").val(data.codigo),$("#nombre").val(data.nombre),$("#txtColor").val(data.txtColor),$("#bgColor").val(data.bgColor),$("#txtColorSpan").css("background-color",data.txtColor),$("#bgColorSpan").css("background-color",data.bgColor),$("#nombreAbreviado").val(data.nombreAbreviado),$("#descripcion").val(data.descripcion),$("#saldoCantidad").val(data.saldoCantidad),$("#saldoCosto").val(parseFloat(data.saldoCosto).toFixed(2)),$("#costoPromedio").val(parseFloat(data.costoPromedio).toFixed(2)),$("#precioVenta").val(parseFloat(data.precioVenta).toFixed(2)),$("#tipoProducto option[value="+data.esVenta+"]").prop("selected",!0),$("#tipoProducto").selectpicker("refresh"),$(".bs-example-modal-lg").modal("toggle")}DeleteEventHandler(){producto.id=$(this).parents("tr").find(".itemId").text(),swal({title:"Eliminar?",text:"Esta acción es irreversible!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"No, cancelar!",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger"}).then(result=>{result.value&&producto.Delete})}AddArticuloEventHandler(){var posicion=null,id=$(this).parents("tr").find("td:eq(1)").html(),nombre=$(this).parents("tr").find("td:eq(2)").html(),codigo=$(this).parents("tr").find("td:eq(3)").html();if($(this).is(":checked")){if(-1!=producto.lista.indexOf(id))return $(this).attr("checked",!1),!1;producto.AddTableArticulo(id,nombre)}else posicion=producto.lista.indexOf(id),producto.lista.splice(posicion,1),$("#row"+id).remove()}AddTableArticulo(id,nombre){if($("#tableBody-ArticuloBodega").append(`\n            <tr id="row"${id}> \n                <td class="itemId" >${id}</td>\n                <td>${nombre}</td>\n                <td>\n                    <input id="cantidad" class="form-control col-3" name="cantidad" type="text" placeholder="Cantidad de artículos" autofocus="" value="1">\n                </td>\n                <td>\n                    <input id="costo" class="form-control col-3" name="costo" type="text" placeholder="Costo del artículo" autofocus="" value="0">\n                </td>\n                <td class=" last">\n                    <a id ="delete_row${id}" onclick="elaborarProducto.Deleteproducto(this)" > <i class="glyphicon glyphicon-trash" onclick="Deleteproducto(this)"> </i> Eliminar </a>\n                </td>\n            </tr>\n        `),$.fn.dataTable.isDataTable("#dsArticulo"))var table=$("#dsArticulo").DataTable();else $("#dsArticulo").DataTable({columns:[{width:"40%"},{width:"25%"},{width:"25%"},{width:"10%"}],paging:!0,search:!0})}LoadProducto(){""!=$("#p_searh").val()&&(producto.codigo=$("#p_searh").val(),$.ajax({type:"POST",url:"class/Producto.php",data:{action:"ReadByCode",obj:JSON.stringify(producto)}}).done(function(e){producto.ValidateProductoFac(e)}).fail(function(e){producto.showError(e)}))}ReadbyCode(cod){""!=cod&&(producto.codigo=cod,$.ajax({type:"POST",url:"class/Producto.php",data:{action:"ReadByCode",obj:JSON.stringify(producto)}}).done(function(e){producto.ValidatePrdMerma(e)}).fail(function(e){producto.showError(e)}))}ReadbyCodeAgencia(cod){""!=cod&&(producto.codigo=cod,$.ajax({type:"POST",url:"class/InsumosXBodega.php",data:{action:"ReadByCode",codigo:producto.codigo}}).done(function(e){producto.ValidatePrdMerma(e)}).fail(function(e){producto.showError(e)}))}ValidatePrdMerma(e){if("[]"!=e&&"false"!=e){if("false"!=e&&""!=e){var data=JSON.parse(e)[0];producto.id=data.id,producto.codigo=data.codigo,producto.nombre=data.nombre,producto.descripcion=data.descripcion,producto.saldoCantidad=data.saldoCantidad,producto.costoPromedio=data.costoPromedio;var repetido=!1;0!=document.getElementById("tProducto").rows.length&&null!=producto&&$(document.getElementById("tProducto").rows).each(function(i,item){item.childNodes[0].innerText==producto.id&&(repetido=!0,swal({type:"warning",title:"Orden de Compra",text:"El item "+producto.codigo+" ya se encuentra en la lista",showConfirmButton:!1,timer:3e3}))}),0==repetido&&(producto.agregarItem(),$("#p_searhProducto").val(""))}}else swal({type:"warning",title:"Orden de Compra",text:"El item "+producto.codigo+" No existe.",showConfirmButton:!1,timer:3e3})}agregarItem(){if(producto.saldoCantidad<=0)return swal({type:"warning",title:"Merma",text:"El item "+producto.codigo+" no tiene cantidad disponible.",showConfirmButton:!1,timer:3e3}),!1;var rowNode=tp.row.add(producto).draw().node();$("td:eq(3) input",rowNode).attr({id:producto.codigo,max:producto.saldoCantidad,min:"1",step:"1",value:"1"}).change(function(){parseFloat(this.value)>parseFloat(this.max)&&(swal({type:"warning",title:"Merma",text:"La Cantidad a RESTAR del item "+this.id+" no puede ser superior cantidad disponible en Inventario.",showConfirmButton:!1,timer:3e3}),this.value=this.max)})}ValidateProductoFac(e){if("false"!=e){var data=JSON.parse(e)[0];(producto=new Producto(data.id,data.codigo,data.nombre,data.txtColor,data.bgColor,data.nombreAbreviado,data.descripcion,data.saldoCantidad,data.saldoCosto,data.costoPromedio,data.precioVenta,data.tipoProducto,data.lista)).UltPrd=producto.codigo;var repetido=!1;0!=document.getElementById("tbodyItems").rows.length&&null!=data&&$(document.getElementById("tbodyItems").rows).each(function(i,item){item.childNodes[0].innerText==producto.codigo&&(repetido=!0,swal({type:"warning",title:"Determinación de Precio",text:"El item "+producto.codigo+" ya se encuentra en la lista",showConfirmButton:!1,timer:3e3}))}),0==repetido&&(producto.AgregaProducto(),producto.ResetSearch())}else swal({type:"warning",title:"Determinación de Producto",text:"El producto No existe.",showConfirmButton:!1,timer:3e3})}ResetSearch(){$("#p_searh").val("")}AgregaProducto(){var rowNode=t.row.add([producto.id,producto.codigo,producto.nombre,producto.costoPromedio,producto.precioVenta]).draw().node();$("td:eq(2) input",rowNode).attr({id:"costo"+producto.id,max:"9999999999999",min:"1",step:"1",value:parseFloat(producto.costoPromedio).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}),$("td:eq(3) input",rowNode).attr({id:"precio"+producto.id,max:"9999999999999",min:"0",step:"1",value:producto.precioVenta})}ValorDefault(){$("#saldoCantidad").val("0"),$("#saldoCosto").val("0.00"),$("#costoPromedio").val("0.00"),$("#precioVenta").val("0.00")}ActualizarPrecios(){producto.lista=[],$("#tbodyItems tr").each(function(i,item){var objlista=new Object;objlista.id=$("#dsItems").dataTable().fnGetData(item)[0],objlista.precioVenta=$(this).find("td:eq(3) input").val(),producto.lista.push(objlista)}),$.ajax({type:"POST",url:"class/Producto.php",data:{action:"ActualizaPrecios",obj:JSON.stringify(this)}}).done(producto.showInfo).fail(function(e){producto.showError(e)}).always(function(){$("#btnSubmit").removeAttr("disabled"),producto=new Producto,$("#p_searh").focus()})}ShowAllInventario(e){var t=$("#dsProductoReporte").DataTable();t.rows().count(),t.clear(),t.rows.add(JSON.parse(e)),t.draw()}CargaProductoRango(){var referenciaCircular=producto.tablainsumo;producto.tablainsumo=[],$.ajax({type:"POST",url:"class/Producto.php",data:{action:"ReadAllbyRange",obj:JSON.stringify(producto)}}).done(function(e){producto.tablainsumo=referenciaCircular,producto.ShowAllInventario(e)})}setTableInventarioProductoReporte(){jQuery.extend(jQuery.fn.dataTableExt.oSort,{"formatted-num-pre":function(a){return a="-"===a||""===a?0:a.replace(/[^\d\-\.]/g,""),parseFloat(a)},"formatted-num-asc":function(a,b){return a-b},"formatted-num-desc":function(a,b){return b-a}}),this.tablainsumo=$("#dsProductoReporte").DataTable({responsive:!0,destroy:!0,order:[1,"desc"],dom:"Bfrtip",buttons:[{extend:"excelHtml5",exportOptions:{columns:[1,4,5,6,7,8,9,10,11,12]},messageTop:"Movimientos de Productos"},{extend:"pdfHtml5",orientation:"landscape",exportOptions:{columns:[1,4,5,6,7,8,9,10,11,12]},customize:function(doc){doc.defaultStyle.alignment="right",doc.styles.tableHeader.alignment="right"}}],language:{infoEmpty:"Sin Movimientos de Productos Registrados",emptyTable:"Sin Movimientos de Productos Registrados",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columnDefs:[{className:"text-right",targets:[5,6,7,8,9,10,11,12]}],columns:[{title:"ID",data:"id",className:"itemId",width:"auto",searchable:!1},{title:"FECHA",data:"fecha",width:"auto"},{title:"ENTRADA",data:"idOrdenEntrada"},{title:"SALIDA",data:"idOrdenSalida"},{title:"PRODUCTO",data:"producto",width:"auto"},{title:"ENTRADA",data:"entrada",width:"auto",mRender:function(e){return null==e?"0":e}},{title:"SALIDA",data:"salida",width:"auto",mRender:function(e){return null==e?"0":e}},{title:"SALDO",data:"saldo",width:"auto"},{title:"COSTO ADQUISICION",data:"costoAdquisicion",width:"auto",type:"formatted-num",mRender:function(e){return null==e?"¢0":"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"VALOR ENTRADA",data:"valorEntrada",width:"auto",type:"formatted-num",mRender:function(e){return null==e?"¢0":"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"VALOR SALIDA",data:"valorSalida",width:"auto",type:"formatted-num",mRender:function(e){return null==e?"¢0":"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"VALOR SALDO",data:"valorSaldo",width:"auto",type:"formatted-num",mRender:function(e){return null==e?"¢0":"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"COSTO PROMEDIO",data:"costoPromedio",width:"auto",type:"formatted-num",mRender:function(e){return null==e?"¢0":"¢"+parseFloat(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]})}Init(){var validator=new FormValidator({events:["blur","input","change"]},document.forms.frmProducto);$("#frmProducto").submit(function(e){var validatorResult;return e.preventDefault(),validator.checkAll(this).valid&&producto.Save,!1}),$("#frmProducto").length>0&&(document.forms.frmProducto.onreset=function(e){validator.reset()})}}let producto=new Producto;var tp;